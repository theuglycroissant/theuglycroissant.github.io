let img_holder,img_nav,total_width,viewport_width,items,currentItem=0;const viewTime=1e4,animateTime=700,resolution=20,totalSteps=35;let scrollSteps=[],keepScrolling=!0,stopAnimation=!1;function scrollNext(){keepScrolling&&(myScroll((currentItem+1)%items),setTimeout(scrollNext,1e4))}function myScroll(e){for(targetScroll=e*viewport_width,currentScroll=img_holder.scrollLeft,difference=targetScroll-currentScroll,vector=difference/35,scrollSteps=[],i=1;i<35;i++)easeIn=-(Math.cos(Math.PI*(i/35))-1)/2,easeIn=easeIn*difference+currentScroll,scrollSteps.push(Math.round(easeIn));scrollSteps.push(targetScroll),changeNavigation(e),setTimeout(animateNextStep,20)}function animateNextStep(){stopAnimation||(img_holder.scrollLeft=scrollSteps.shift(),scrollSteps.length>0&&setTimeout(animateNextStep,20))}function changeNavigation(e){currentItem=e,items>0&&(Array.from(document.getElementsByClassName("navball")).forEach(e=>{e.classList.remove("active")}),document.getElementById("img_nav_"+e).classList.add("active"))}function setupNavigation(){navHTML="";for(var e=0;e<items;e++)active=0==e?" active":"",navball=`<div class="navball${active}" id="img_nav_${e}" onclick="handleClick(${e})"></div>`,navHTML+=navball;img_nav.innerHTML=navHTML}function handleClick(e){keepScrolling=!1,myScroll(e)}function computeWidths(){total_width=img_holder.scrollWidth,viewport_width=img_holder.offsetWidth}window.onload=()=>{img_holder=document.getElementById("recipe_page_image"),img_nav=document.getElementById("recipe_page_image_nav"),computeWidths(),items=Math.round(total_width/viewport_width),items>1&&(setTimeout(scrollNext,1e4),setupNavigation()),window.onresize=()=>{stopAnimation=!0,computeWidths(),myScroll(currentItem),stopAnimation=!1}};